{{-- <section class="testimonials-section">
    <div class="container">
        <div class="text-center mb-5">
            <h5 class="text-center text-white mb-0 carattere" style="font-size: 28px;">Our Testimonials</h5>
            <h2 class="text-center fw-bold mb-4" style="font-size: 48px;">What they are talking about</h2>
        </div>

        <div class="testimonials-container">
            <div class="main-layout">
                <!-- Main Traveler Image -->
                <div class="testimonial-main-image">
                    <img src="{{ asset('frontend/img/testimonial.png') }}" class="w-100 rounded-4" alt="Main Traveler">
                </div>

                <div class="testimonials-carousel">
                    <div class="owl-carousel owl-theme" id="testimonialsCarousel">
                        <div class="testimonial-card">
                            <div class="testimonial-header">
                                <svg class="testimonial-avatar" width="60" height="60" viewBox="0 0 60 60"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="30" cy="30" r="30" fill="#fbbf24" />
                                    <circle cx="30" cy="22" r="12" fill="#8b4513" />
                                    <path d="M15 50 Q30 40 45 50" fill="#8b4513" />
                                    <circle cx="25" cy="20" r="2" fill="#000" />
                                    <circle cx="35" cy="20" r="2" fill="#000" />
                                    <path d="M25 25 Q30 28 35 25" stroke="#000" stroke-width="1" fill="none" />
                                </svg>
                                <div class="testimonial-info">
                                    <h5>Sarah Thompson</h5>
                                    <div class="star-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="testimonial-text">
                                Amazing experience! The team went above and beyond to make our trip unforgettable. Every
                                detail was perfectly planned and executed. I would definitely recommend their services
                                to anyone looking for a premium travel experience.
                            </p>
                            <p class="travel-date">Traveled December 2024</p>
                        </div>

                        <div class="testimonial-card">
                            <div class="testimonial-header">
                                <svg class="testimonial-avatar" width="60" height="60" viewBox="0 0 60 60"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="30" cy="30" r="30" fill="#3b82f6" />
                                    <circle cx="30" cy="22" r="12" fill="#8b4513" />
                                    <path d="M15 50 Q30 40 45 50" fill="#8b4513" />
                                    <circle cx="25" cy="20" r="2" fill="#000" />
                                    <circle cx="35" cy="20" r="2" fill="#000" />
                                    <path d="M25 25 Q30 28 35 25" stroke="#000" stroke-width="1" fill="none" />
                                </svg>
                                <div class="testimonial-info">
                                    <h5>Tom Hardy</h5>
                                    <div class="star-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="testimonial-text">
                                Professional service from start to finish. The attention to detail and customer care was
                                exceptional. Our family vacation was stress-free and enjoyable thanks to their excellent
                                planning and support throughout the journey.
                            </p>
                            <p class="travel-date">Traveled November 2024</p>
                        </div>

                        <div class="testimonial-card">
                            <div class="testimonial-header">
                                <svg class="testimonial-avatar" width="60" height="60" viewBox="0 0 60 60"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="30" cy="30" r="30" fill="#10b981" />
                                    <circle cx="30" cy="22" r="12" fill="#8b4513" />
                                    <path d="M15 50 Q30 40 45 50" fill="#8b4513" />
                                    <circle cx="25" cy="20" r="2" fill="#000" />
                                    <circle cx="35" cy="20" r="2" fill="#000" />
                                    <path d="M25 25 Q30 28 35 25" stroke="#000" stroke-width="1" fill="none" />
                                </svg>
                                <div class="testimonial-info">
                                    <h5>Emily Johnson</h5>
                                    <div class="star-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="testimonial-text">
                                Absolutely wonderful experience! The destinations were breathtaking and the service was
                                top-notch. Every moment was perfectly curated. I can't wait to book my next adventure
                                with this incredible team.
                            </p>
                            <p class="travel-date">Traveled October 2024</p>
                        </div>

                        <div class="testimonial-card">
                            <div class="testimonial-header">
                                <svg class="testimonial-avatar" width="60" height="60" viewBox="0 0 60 60"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="30" cy="30" r="30" fill="#f59e0b" />
                                    <circle cx="30" cy="22" r="12" fill="#8b4513" />
                                    <path d="M15 50 Q30 40 45 50" fill="#8b4513" />
                                    <circle cx="25" cy="20" r="2" fill="#000" />
                                    <circle cx="35" cy="20" r="2" fill="#000" />
                                    <path d="M25 25 Q30 28 35 25" stroke="#000" stroke-width="1" fill="none" />
                                </svg>
                                <div class="testimonial-info">
                                    <h5>Michael Brown</h5>
                                    <div class="star-rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="testimonial-text">
                                Outstanding service and incredible value for money. The team's expertise and passion for
                                travel really shows. They made our honeymoon perfect in every way. Highly recommended
                                for anyone seeking quality travel experiences.
                            </p>
                            <p class="travel-date">Traveled September 2024</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> --}}

<section class="testimonials-section">
    <div class="container">
        <div class="text-center mb-5">
            <h5 class="text-center text-white mb-0 carattere" style="font-size: 28px;">Our Testimonials</h5>
            <h2 class="text-center fw-bold mb-4" style="font-size: 48px;">What they are talking about</h2>
        </div>

        <div class="testimonials-container">
            <div class="main-layout">
                <!-- Main Traveler Image -->
                <div class="testimonial-main-image">
                    <img src="{{ asset('frontend/img/testimonial.png') }}" class="w-100 rounded-4" alt="Main Traveler">
                </div>

                <div class="testimonials-carousel">
                    <div class="owl-carousel owl-theme" id="testimonialsCarousel">
                        @foreach ($testimonials as $testimonial)
                            <div class="testimonial-card">
                                <div class="testimonial-header">
                                    {{-- Avatar SVG or use an image if available --}}
                                    @if (!empty($testimonial->avatar))
                                        <img src="{{ asset('storage/' . $testimonial->avatar) }}"
                                            class="testimonial-avatar rounded-circle" width="60" height="60"
                                            alt="{{ $testimonial->name }}">
                                    @else
                                        {{-- Default SVG avatar --}}
                                        <svg class="testimonial-avatar" width="60" height="60"
                                            viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="30" cy="30" r="30" fill="#fbbf24" />
                                            <circle cx="30" cy="22" r="12" fill="#8b4513" />
                                            <path d="M15 50 Q30 40 45 50" fill="#8b4513" />
                                            <circle cx="25" cy="20" r="2" fill="#000" />
                                            <circle cx="35" cy="20" r="2" fill="#000" />
                                            <path d="M25 25 Q30 28 35 25" stroke="#000" stroke-width="1"
                                                fill="none" />
                                        </svg>
                                    @endif
                                    <div class="testimonial-info">
                                        <h5>{{ $testimonial->name }}</h5>
                                        <div class="star-rating">
                                            @for ($i = 0; $i < ($testimonial->rating ?? 5); $i++)
                                                <i class="fas fa-star"></i>
                                            @endfor
                                        </div>
                                    </div>
                                </div>
                                <p class="testimonial-text">
                                    {{ $testimonial->message }}
                                </p>
                                <p class="travel-date">
                                    {{ $testimonial->date ? 'Traveled ' . \Carbon\Carbon::parse($testimonial->date)->format('F Y') : '' }}
                                </p>
                            </div>
                        @endforeach
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    $(document).ready(function() {
        // Initialize Owl Carousel with proper mobile settings
        $("#testimonialsCarousel").owlCarousel({
            items: 2,
            margin: 30,
            nav: true,
            dots: true,
            loop: true,
            autoplay: true,
            autoplayTimeout: 5000,
            autoplayHoverPause: true,
            navText: ['<span>‹</span>', '<span>›</span>'],
            smartSpeed: 800,
            fluidSpeed: true,
            dragEndSpeed: 350,
            mouseDrag: true,
            touchDrag: true,
            pullDrag: true,
            freeDrag: false,
            stagePadding: 0,
            responsive: {
                0: {
                    items: 1,
                    margin: 10,
                    nav: true,
                    dots: true,
                    stagePadding: 20
                },
                480: {
                    items: 1,
                    margin: 15,
                    nav: true,
                    dots: true,
                    stagePadding: 30
                },
                768: {
                    items: 1,
                    margin: 20,
                    nav: true,
                    dots: true
                },
                992: {
                    items: 2,
                    margin: 30,
                    nav: true,
                    dots: true
                }
            },
            onInitialized: function(event) {
                // Ensure proper initialization
                setTimeout(function() {
                    $('.testimonial-card').css({
                        'opacity': '1',
                        'transform': 'translateY(0)'
                    });
                }, 100);
            },
            onChanged: function(event) {
                // Smooth transition animation
                $('.testimonial-card').removeClass('animate-in');
                setTimeout(function() {
                    $('.owl-item.active .testimonial-card').addClass('animate-in');
                }, 100);
            }
        });

        // Touch-friendly hover effects for non-touch devices
        if (!('ontouchstart' in window)) {
            $('.testimonial-card').hover(
                function() {
                    $(this).css('transform', 'translateY(-5px)');
                },
                function() {
                    $(this).css('transform', 'translateY(0)');
                }
            );
        }

        // Handle window resize
        $(window).on('resize', function() {
            setTimeout(function() {
                $('#testimonialsCarousel').trigger('refresh.owl.carousel');
            }, 100);
        });
    });
</script>
